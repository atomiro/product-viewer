{"version":3,"sources":["viewer.js"],"names":["CameraDollyControl","camera","rendererElement","init","mousemove","onMouseMove","mousedown","onMouseDown","mouseup","onMouseUp","hover","onHoverIn","onHoverOut","_","debounce","onMouseWheel","leading","$","window","on","event","Math","abs","cameraDist","obj","panLockAt","delta","getMouseMoveDelta","cameraHeight","constrainVerticalPan","minCameraHeight","maxCameraHeight","position","y","lookAt","THREE","Vector3","mouseIn","preventDefault","deltaY","ControlUtils","clamp","originalEvent","constrainZoom","minZoomDistance","maxZoomDistance","x","centerCamera","mouseDown","totalZoomDist","zoomLevel","lerp","initHeight","min","max","deltaX","mouseX","pageX","mouseY","pageY","this","MeshControl","meshes","angle","PI","rotationSpeed","rotateTo","i","length","mesh","rotateOnAxis","setRotationSpeed","speed","Viewer","textureArray","element","options","loadScene","sceneFile","settings","assetPath","objloader","ObjectLoader","load","setup","xhr","console","log","round","loaded","total","renderer","WebGLRenderer","antialias","setPixelRatio","DEVICE_PIXEL_RATIO","setSize","canvasWidth","canvasHeight","append","domElement","scene","background","Color","sceneBackgroundColor","textureManager","LoadingManager","onError","onProgress","onLoad","initialized","setupMeshes","setupCamera","render","Event","trigger","loadTexture","PerspectiveCamera","fov","aspectRatio","CAM_NEAR_PLANE","CAM_FAR_PLANE","cameraXPosition","cameraYPosition","cameraControl","children","object","type","rotation","initialRotation","push","material","map","textures","visible","meshControl","getTextureByName","name","texture","textureFileName","texturePath","textureLoader","TextureLoader","storeTexture","filename","updateTexture","needsUpdate","debounceResize","resizeRenderer","width","updateProjectionMatrix","requestAnimationFrame","create","extend","resize","toggleModels","plusModel","straightModel","switchTexture","addTexture","devicePixelRatio","value","clampedValue","p0","p1","progress","pu"],"mappings":"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","file":"viewer.min.js"}