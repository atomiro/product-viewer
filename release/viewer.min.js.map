{"version":3,"sources":["viewer.js"],"names":["CameraDollyControl","camera","rendererElement","init","mousemove","onMouseMove","mousedown","onMouseDown","mouseup","onMouseUp","hover","onHoverIn","onHoverOut","_","debounce","onMouseWheel","leading","$","window","on","event","Math","abs","cameraDist","obj","panLockAt","delta","getMouseMoveDelta","cameraHeight","constrainVerticalPan","minCameraHeight","maxCameraHeight","position","y","lookAt","THREE","Vector3","mouseIn","preventDefault","deltaY","ControlUtils","clamp","originalEvent","constrainZoom","minZoomDistance","maxZoomDistance","x","centerCamera","mouseDown","totalZoomDist","zoomLevel","lerp","initHeight","min","max","deltaX","mouseX","pageX","mouseY","pageY","this","MeshControl","meshes","angle","PI","rotationSpeed","rotateTo","i","length","mesh","rotateOnAxis","setRotationSpeed","speed","Viewer","textureArray","element","options","loadScene","sceneFile","settings","assetPath","sceneFileName","objloader","ObjectLoader","load","setup","xhr","console","log","round","loaded","total","renderer","WebGLRenderer","antialias","setPixelRatio","DEVICE_PIXEL_RATIO","setSize","canvasWidth","canvasHeight","append","domElement","scene","background","Color","sceneBackgroundColor","textureManager","LoadingManager","onError","onProgress","onLoad","initialized","setupMeshes","setupCamera","render","Event","trigger","loadTexture","PerspectiveCamera","fov","aspectRatio","CAM_NEAR_PLANE","CAM_FAR_PLANE","cameraXPosition","cameraYPosition","cameraControl","children","object","type","rotation","initialRotation","push","material","map","textures","visible","meshControl","getTextureByName","name","texture","textureFileName","texturePath","textureLoader","TextureLoader","storeTexture","filename","updateTexture","needsUpdate","debounceResize","resizeRenderer","width","updateProjectionMatrix","requestAnimationFrame","create","extend","resize","toggleModels","plusModel","straightModel","switchTexture","addTexture","devicePixelRatio","value","clampedValue","p0","p1","progress","pu"],"mappings":"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","file":"viewer.min.js"}