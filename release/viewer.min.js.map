{"version":3,"sources":["viewer.js"],"names":["CameraDollyControl","camera","rendererElement","options","init","$","extend","settings","self","panLockAt","Math","abs","maxZoom","totalZoomDist","minZoom","zoomThreshold","dblclick","onDblClick","mousemove","onMouseMove","mousedown","onMouseDown","mouseup","onMouseUp","hover","onHoverIn","onHoverOut","window","addEventListener","onMouseWheel","onTouchMove","onTouchEnd","updateZoom","initControls","unbindControls","off","removeEventListener","autoZoom","event","delay","delta","lastTouchTime","timeStamp","changedTouches","length","preventDefault","isAnimating","position","z","progress","zoomingOut","mouseDown","mouseIn","cameraDist","getMouseMoveDelta","pan","mousePanSpeedFactor","scrollDelta","ControlUtils","clamp","deltaY","interactiveZoom","zoomSpeedFactor","touches","touchTracker","axis","speedY","touchPanSpeedFactor","deltaDistance","speed","factor","constrainZoom","centerCamera","cameraHeight","constrainVerticalPan","minCameraHeight","maxCameraHeight","y","lookAt","THREE","Vector3","zoomLevel","lerp","initHeight","centerOnObject","object","geometry","computeBoundingBox","boundingBox","center","scale","animateZoom","step","min","max","deltaX","lastPosition","x","pageX","pageY","animationSpeed","this","TouchTracker","animate","registerControls","focus","objHeight","size","fovRadians","radians","fov","distance","tan","MeshControl","meshes","mouseenter","onMouseIn","mouseleave","onMouseOut","updateMouseMoveDelta","mouseDeltaX","mouseDeltaY","angle","PI","mouseSpeedFactor","rotateTo","idling","speedX","touchSpeedFactor","axisOfRotation","i","rotateOnAxis","mouseX","mouseY","idleSpeed","rotation","idle","element","elementClass","attr","domElement","document","getElementsByClassName","onTouchStart","startTime","currentDistance","touchDistance","lastDistance","getTouchMoveDelta","detectAxis","console","log","dx","dy","sqrt","axisDiff","getDeltas","Viewer","sceneSettings","loadScene","sceneFile","scene_path","objLoader","ObjectLoader","debug","loadingPromise","Promise","resolve","reject","load","xhr","percent","loaded","total","triggerEvent","file","scene","renderer","WebGLRenderer","alpha","antialias","setPixelRatio","DEVICE_PIXEL_RATIO","canvasWidth","width","canvasHeight","aspectRatio","setSize","append","sceneBackgroundColor","setClearColor","bgcolor","Color","background","bindElementControls","initMeshControl","initCamera","initialized","requestRender","restart","children","type","push","meshControl","PerspectiveCamera","CAM_NEAR_PLANE","CAM_FAR_PLANE","camHorizontalPosition","camVerticalPosition","cameraControl","getSettings","name","filter","item","getModel","getObjectByName","scene_object","mesh","getTextureByName","texture","textures","getTexture","texturePromise","textureInitialized","textureSettings","loadTexture","url","textureLoader","TextureLoader","response","then","result","storeTexture","initModel","model","loadMaps","maps","map","loadMap","all","applyMaps","color","Number","material","modelInitialized","models","displayModel","currentModel","lighting","useLighting","display","catch","err","message","displayTexture","renderTexture","displayModelWithTexture","modelName","textureName","loadTextures","mapName","mapSettings","mapType","normalMap","specularMap","indexOf","sceneObject","objectSettings","visible","currentLighting","specular_color","specularColor","specular","needsUpdate","debounceResize","debounce","_","resizeRenderer","leading","updateProjectionMatrix","render","requestFrame","requestAnimationFrame","halt","addClass","removeClass","eventName","detail","Event","trigger","e","warn","createEvent","initCustomEvent","eventElement","dispatchEvent","mouseFeedbackListeners","resize","container","devicePixelRatio","create","checkRenderingContext","displayImageAsTexture","image","Texture","addTextureFromImage","createControls","start","stop","canvas","createElement","gl","getContext","WebGLRenderingContext","isInteger","value","isFinite","floor","global","factory","exports","module","define","amd","finallyConstructor","callback","constructor","reason","noop","bind","fn","thisArg","apply","arguments","TypeError","_state","_handled","_value","undefined","_deferreds","doResolve","handle","deferred","_immediateFn","cb","onFulfilled","onRejected","promise","ret","newValue","finale","_unhandledRejectionFn","len","Handler","done","ex","setTimeoutFunc","setTimeout","prototype","prom","arr","res","val","call","args","remaining","Array","slice","race","values","setImmediate","globalNS","Error","clampedValue","p0","p1","pu","deg","rad"],"mappings":"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","file":"viewer.min.js"}