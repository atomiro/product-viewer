{"version":3,"sources":["viewer.js"],"names":["CameraDollyControl","camera","rendererElement","init","mousemove","onMouseMove","mousedown","onMouseDown","mouseup","onMouseUp","hover","onHoverIn","onHoverOut","_","debounce","onMouseWheel","leading","$","window","on","addEventListener","onTouchMove","onTouchEnd","onTouchStart","event","Math","abs","cameraDist","obj","panLockAt","delta","getMouseMoveDelta","cameraHeight","constrainVerticalPan","minCameraHeight","maxCameraHeight","position","y","lookAt","THREE","Vector3","mouseIn","preventDefault","deltaY","ControlUtils","clamp","originalEvent","constrainZoom","minZoomDistance","maxZoomDistance","x","centerCamera","mouseDown","touchStartTime","timeStamp","touches","length","initMouseY","pageY","dx","pageX","dy","currentDist","sqrt","lastDist","getTouchMoveVertical","speed","distDelta","console","log","mouseY","totalZoomDist","zoomLevel","lerp","initHeight","min","max","touchDelta","deltaX","mouseX","this","MeshControl","meshes","angle","PI","mouseSpeed","rotateTo","touchDeltaY","initMouseX","getTouchMoveDelta","touchDeltaX","i","mesh","rotateOnAxis","rotationSpeed","setRotationSpeed","Viewer","textureArray","element","options","loadScene","sceneFile","settings","assetPath","objloader","ObjectLoader","load","setup","xhr","round","loaded","total","renderer","WebGLRenderer","antialias","setPixelRatio","DEVICE_PIXEL_RATIO","setSize","canvasWidth","canvasHeight","append","domElement","scene","background","Color","sceneBackgroundColor","grid","GridHelper","add","textureManager","LoadingManager","onError","onProgress","onLoad","initialized","setupMeshes","setupCamera","render","Event","trigger","loadTexture","PerspectiveCamera","fov","aspectRatio","CAM_NEAR_PLANE","CAM_FAR_PLANE","cameraXPosition","cameraYPosition","cameraControl","children","object","type","rotation","initialRotation","push","material","map","textures","visible","meshControl","getTextureByName","name","texture","textureFileName","texturePath","textureLoader","TextureLoader","storeTexture","filename","updateTexture","needsUpdate","debounceResize","resizeRenderer","width","updateProjectionMatrix","requestAnimationFrame","create","extend","resize","toggleModels","plusModel","straightModel","switchTexture","addTexture","devicePixelRatio","value","clampedValue","p0","p1","progress","pu"],"mappings":"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","file":"viewer.min.js"}