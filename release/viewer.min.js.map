{"version":3,"sources":["viewer.js"],"names":["CameraDollyControl","camera","rendererElement","init","mousemove","onMouseMove","mousedown","onMouseDown","mouseup","onMouseUp","hover","onHoverIn","onHoverOut","_","debounce","onMouseWheel","leading","$","window","on","event","Math","abs","cameraDist","obj","panLockAt","delta","getMouseMoveDelta","cameraHeight","constrainVerticalPan","minCameraHeight","maxCameraHeight","position","y","lookAt","THREE","Vector3","mouseIn","preventDefault","deltaY","ControlUtils","clamp","originalEvent","constrainZoom","minZoomDistance","maxZoomDistance","x","centerCamera","mouseDown","totalZoomDist","zoomLevel","lerp","initHeight","min","max","deltaX","mouseX","pageX","mouseY","pageY","this","MeshControl","meshes","angle","PI","rotationSpeed","rotateTo","i","length","mesh","rotateOnAxis","setRotationSpeed","speed","Viewer","textureArray","element","options","loadScene","sceneFile","settings","assetPath","objloader","ObjectLoader","load","setup","xhr","console","log","round","loaded","total","renderer","WebGLRenderer","antialias","setPixelRatio","DEVICE_PIXEL_RATIO","setSize","canvasWidth","canvasHeight","append","domElement","scene","background","Color","sceneBackgroundColor","textureManager","LoadingManager","onError","onProgress","onLoad","initialized","setupMeshes","setupCamera","render","Event","trigger","loadTexture","PerspectiveCamera","fov","aspectRatio","CAM_NEAR_PLANE","CAM_FAR_PLANE","cameraXPosition","cameraYPosition","cameraControl","children","object","type","rotation","initialRotation","push","smoothGeometry","geometry","clone","subdivider","modify","verticesNeedUpdate","uvsNeedUpdate","elementsNeedUpdate","material","map","textures","visible","meshControl","getTextureByName","name","texture","textureFileName","texturePath","textureLoader","TextureLoader","storeTexture","filename","updateTexture","needsUpdate","debounceResize","resizeRenderer","width","updateProjectionMatrix","requestAnimationFrame","create","extend","resize","toggleModels","plusModel","straightModel","switchTexture","addTexture","SubdivisionModifier","devicePixelRatio","value","clampedValue","p0","p1","progress","pu"],"mappings":"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","file":"viewer.min.js"}