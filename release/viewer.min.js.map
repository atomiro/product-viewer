{"version":3,"sources":["viewer.js"],"names":["CameraDollyControl","camera","rendererElement","init","mousemove","onMouseMove","mousedown","onMouseDown","mouseup","onMouseUp","hover","onHoverIn","onHoverOut","_","debounce","onMouseWheel","leading","$","window","on","addEventListener","onTouchMove","event","Math","abs","cameraDist","self","panLockAt","delta","getMouseMoveDelta","cameraHeight","mousePanSpeedFactor","constrainVerticalPan","minCameraHeight","maxCameraHeight","position","y","lookAt","THREE","Vector3","mouseIn","preventDefault","deltaY","ControlUtils","clamp","originalEvent","constrainZoom","minZoomDistance","maxZoomDistance","x","centerCamera","mouseDown","touches","length","touchTracker","direction","speedY","touchPanSpeedFactor","deltaDistance","totalZoomDist","zoomLevel","lerp","initHeight","min","max","deltaX","mouseX","pageX","mouseY","pageY","this","TouchTracker","MeshControl","meshes","angle","PI","mouseSpeedFactor","rotateTo","speedX","touchSpeedFactor","i","mesh","rotateOnAxis","element","el","onTouchStart","onTouchEnd","console","log","posX","posY","startTime","timeStamp","startPosX","startPosY","currentDistance","touchDistance","lastDistance","getTouchMoveDelta","detectDirection","dx","dy","distance","sqrt","getDeltas","Viewer","textureArray","options","loadScene","sceneFile","settings","assetPath","objloader","ObjectLoader","load","setup","xhr","round","loaded","total","renderer","WebGLRenderer","antialias","setPixelRatio","DEVICE_PIXEL_RATIO","setSize","canvasWidth","canvasHeight","append","domElement","scene","background","Color","sceneBackgroundColor","grid","GridHelper","add","textureManager","LoadingManager","onError","onProgress","onLoad","initialized","setupMeshes","setupCamera","render","Event","trigger","loadTexture","PerspectiveCamera","fov","aspectRatio","CAM_NEAR_PLANE","CAM_FAR_PLANE","cameraXPosition","cameraYPosition","cameraControl","children","object","type","rotation","initialRotation","push","material","map","textures","visible","meshControl","getTextureByName","name","texture","textureFileName","texturePath","textureLoader","TextureLoader","storeTexture","filename","updateTexture","needsUpdate","debounceResize","resizeRenderer","width","updateProjectionMatrix","requestAnimationFrame","create","extend","resize","toggleModels","plusModel","straightModel","switchTexture","addTexture","devicePixelRatio","value","clampedValue","p0","p1","progress","pu"],"mappings":"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","file":"viewer.min.js"}