{"version":3,"sources":["viewer.js"],"names":["CameraDollyControl","camera","rendererElement","init","mousemove","onMouseMove","mousedown","onMouseDown","mouseup","onMouseUp","hover","onHoverIn","onHoverOut","_","debounce","onMouseWheel","leading","$","window","on","addEventListener","onTouchMove","onTouchEnd","onTouchStart","event","Math","abs","cameraDist","obj","panLockAt","delta","getMouseMoveDelta","cameraHeight","constrainVerticalPan","minCameraHeight","maxCameraHeight","position","y","lookAt","THREE","Vector3","console","log","mouseIn","preventDefault","deltaY","ControlUtils","clamp","originalEvent","constrainZoom","minZoomDistance","maxZoomDistance","x","centerCamera","mouseDown","touchStartTime","timeStamp","touches","length","initMouseY","pageY","dx","pageX","dy","currentDist","sqrt","lastDist","getTouchMoveVertical","speed","distDelta","mouseY","totalZoomDist","zoomLevel","lerp","initHeight","min","max","touchDelta","deltaX","mouseX","this","MeshControl","meshes","angle","PI","mouseSpeed","rotateTo","touchDeltaY","initMouseX","iniMouseY","pagey","getTouchMoveDelta","touchDeltaX","i","mesh","rotateOnAxis","rotationSpeed","setRotationSpeed","Viewer","textureArray","element","options","loadScene","sceneFile","settings","assetPath","objloader","ObjectLoader","load","setup","xhr","round","loaded","total","renderer","WebGLRenderer","antialias","setPixelRatio","DEVICE_PIXEL_RATIO","setSize","canvasWidth","canvasHeight","append","domElement","scene","background","Color","sceneBackgroundColor","textureManager","LoadingManager","onError","onProgress","onLoad","initialized","setupMeshes","setupCamera","render","Event","trigger","loadTexture","PerspectiveCamera","fov","aspectRatio","CAM_NEAR_PLANE","CAM_FAR_PLANE","cameraXPosition","cameraYPosition","cameraControl","children","object","type","rotation","initialRotation","push","material","map","textures","visible","meshControl","getTextureByName","name","texture","textureFileName","texturePath","textureLoader","TextureLoader","storeTexture","filename","updateTexture","needsUpdate","debounceResize","resizeRenderer","width","updateProjectionMatrix","requestAnimationFrame","create","extend","resize","toggleModels","plusModel","straightModel","switchTexture","addTexture","devicePixelRatio","value","clampedValue","p0","p1","progress","pu"],"mappings":"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","file":"viewer.min.js"}